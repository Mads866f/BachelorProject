@using DTO.Models

@if (AllElections is not null)
{
    <MudSelect T="Election" ValueChanged="OnValueChange" Label="Select an Election">
        @foreach (var election in AllElections)
        {
            <MudSelectItem Value="@election">@election.Name</MudSelectItem>
        }
    </MudSelect>
}
else
{
    <MudAlert Severity="Severity.Error">ERROR: fetching elections</MudAlert>
}

@code {

    [Parameter] public required List<Election> AllElections { get; set; }
    [Parameter] public required Election CurrentElection { get; set; }
    [Parameter] public required EventCallback<Election> UpdateElection { get; set; }

    private void OnValueChange(Election selected)
    {
        UpdateElection.InvokeAsync(selected);
    }
}